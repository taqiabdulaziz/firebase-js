<!DOCTYPE html>
<html lang="en">

<script src="https://www.gstatic.com/firebasejs/5.7.0/firebase.js"></script>
<script>
    // Initialize Firebase
    // TODO: Replace with your project's customized code snippet
    var config = {
        apiKey: "AIzaSyDDW-WDNwjOAYI4ngiYksYYL3Ro0JXcRz4",
        authDomain: "<PROJECT_ID>.firebaseapp.com",
        databaseURL: "https://fir-js-34d6f.firebaseio.com/",
        projectId: "fir-js-34d6f",
        storageBucket: "<BUCKET>.appspot.com",
        messagingSenderId: "<SENDER_ID>",
    };

    var defaultApp = firebase.initializeApp(config);

    console.log(defaultApp.name);  // "[DEFAULT]"

    // You can retrieve services via the defaultApp variable...
    var defaultStorage = defaultApp.storage();
    var defaultDatabase = defaultApp.database();

    function writeUserData(userId, name, email, imageUrl) {
        defaultDatabase.ref('users/' + userId).set({
            username: name,
            email: email,
            profile_picture: imageUrl
        });
    }
    let counter = 1
    writeUserData(`${counter}`, `taqi`, `taqi@mail.com`, `google.com`)
    setInterval(() => {
        counter++
    }, 500);

    defaultDatabase.ref(`/users/1`).on(`value`, function (snapshots) {
        console.log(snapshots.val());

    });

    
</script>
<!-- Firebase App is always required and must be first -->
<script src="https://www.gstatic.com/firebasejs/5.7.0/firebase-app.js"></script>

<!-- Add additional services that you want to use -->
<script src="https://www.gstatic.com/firebasejs/5.7.0/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/5.7.0/firebase-database.js"></script>
<script src="https://www.gstatic.com/firebasejs/5.7.0/firebase-firestore.js"></script>
<script src="https://www.gstatic.com/firebasejs/5.7.0/firebase-messaging.js"></script>
<script src="https://www.gstatic.com/firebasejs/5.7.0/firebase-functions.js"></script>

<!-- Comment out (or don't include) services that you don't want to use -->
<!-- <script src="https://www.gstatic.com/firebasejs/5.7.0/firebase-storage.js"></script> -->


<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>

</body>

</html>